> ## 单点登录( Single Sign On ，简称 SSO）

### 概念

---

企业业务整合的解决方案之一。多个系统之间，用户只用登录一次就可访问所有信任的应用系统

  <br/>

### 介绍

---

- 由耶鲁大学开发，也被称为 CAS（Central Authentication Service），一个独立的 web 应用程序

- 通常 SSO 只有登录模块，没有其他的业务模块

  <br/>

### 快速开始

---

1. 参数准备：

| 参数名称      | 参数说明                                                                      | 参数示例                         | 参数来源                                     |
| ------------- | ----------------------------------------------------------------------------- | -------------------------------- | -------------------------------------------- |
| client_id     | 用于第三方集成统一登录的应用 ID                                               | CLIENT_ID                        | OA 流程申请 SSO 时，自定义填写(项目唯一标识) |
| client_secret | 用于第三方集成统一登录的应用密钥                                              | fasdfasdf13fadsfasdgwfasdf       | 申请通过后，OA 流程中返回                    |
| redirect_url  | 重定向 url，用于统一登录认证后的重定向（将带入 code 信息）                    | http://xxx.zhidingyuming.net/xxx | OA 流程申请 SSO 时，自定义填写               |
| logout_url    | 登出 url，用于统一登录登出时 访问的地址（可通过此地址注销本地应用的用户信息） | http://xx.zhidingyuming.net/xxx  | OA 流程申请 SSO 时，自定义填写               |

2. 时序图：https://www.processon.com/view/link/5da6958fe4b0c55535f83f2b
   - 0、用户访问：用户访问需要使用的第三方系统页面
   - 1、跳转登录页面：第三方系统通过本地的 session / cookies 信息识别用户是否登入，若未登录则跳转至统一登录页面
   - 2、用户认证：统一登录页面将根据当前用户是否登录其他 sso 服务后 选择是否需要认证，需要则自行选择认证模式认证
   - 3、获得认证应答：认证通过后，统一登录页将返回 code （通常 5 分钟有效期）以 Get 的方式重定向页至申请的 redirect_url 地址
   - 4、获得认证令牌：第三方系统通过接口申请获得对应的 AccessToken，其中入参 code
   - 5、获取用户详情：第三方系统通过接口获得对应用户信息，其中入参 AccessToken
